<div class="set-detail-dark-bg">
  <div class="set-detail-header">
    <h1>{{ set?.name }}</h1>
    <button class="create-quiz-button" (click)="createQuiz()">
      <svg
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path d="M12 20h9"></path>
        <path
          d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"
        ></path>
      </svg>
      Stwórz quiz
    </button>
  </div>

  <div class="flashcard-center-section" *ngIf="flashcards.length > 0">
    <div class="flashcard-big" (click)="toggleFlashcard()">
      <div class="flashcard-top-row">
        <span class="hint">💡 Skorzystaj z podpowiedzi</span>
        <div class="flashcard-icons">
          <span class="icon-sound">🔊</span>
          <span class="icon-star">★</span>
        </div>
      </div>
      <div class="flashcard-content">
        <span *ngIf="!flashcards[currentIndex]?.flipped">{{
          flashcards[currentIndex]?.question
        }}</span>
        <span *ngIf="flashcards[currentIndex]?.flipped">{{
          flashcards[currentIndex]?.answer
        }}</span>
      </div>
    </div>
    <div class="flashcard-navigation">
      <button
        class="nav-button"
        (click)="prevFlashcard()"
        [disabled]="currentIndex === 0"
      >
        ←
      </button>
      <span class="current-idx"
        >{{ currentIndex + 1 }} / {{ flashcards.length }}</span
      >
      <button
        class="nav-button"
        (click)="nextFlashcard()"
        [disabled]="currentIndex === flashcards.length - 1"
      >
        →
      </button>
    </div>
  </div>

  <div class="flashcard-list">
    <div
      class="flashcard-small"
      *ngFor="let flashcard of flashcards; let i = index"
      (click)="selectFlashcard(i)"
    >
      <p>{{ flashcard.question }}</p>
    </div>
  </div>
</div>
